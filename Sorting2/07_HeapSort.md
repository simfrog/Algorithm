# 07. 힙 정렬(Heap Sort)  

## 1. 개념  
### 힙 트리 구조(Heap Tree Sturcture)를 이용하는 정렬 알고리즘  
  
* #### 이진 트리(Binary Tree): 모든 노드의 자식 노드가 2개 이하인 노드  
* #### 트리(Tree) : 가지를 뻗어나가는 것처럼 데이터가 서로 연결된 구조  
* #### 완전 이진 트리(Complete Binary Tree) : 데이터가 루트(root) 노드부터 시작해서 자식 노드가 왼쪽 자식 노드, 오른쪽 자식 노드로 구성된 이진 트리(중간에 비어있지 않음, 항상 왼쪽 사직 노드부터 데이터 들어감)  
* ### 힙(Heap) : 최소값 또는 최댓값을 빠르게 찾아내기 위해 완전 이진트리를 기반으로 하는 트리  
    * ### 최소힙  
    * ### 최대힙 : 부모 노드가 자식 노드보다 큰 힙
    특정 노드 때문에 최대힙이 붕괴되는 경우 있음(위쪽으로 보았을때는 최대힙이지만 아래쪽으로 보았을때는 그렇지 않음)  

## 2. 힙 생성 알고리즘(Heapify Algorithm)  
### 특정한 노드의 두 자식 중에서 더 큰 자식과 자신의 위치를 바꾸는 알고리즘  
특정한 하나의 노드에 대해서 수행  
### 하나의 노드를 제외하고는 최대 힙이 구성되어 있는 상태라 가정  

## 3. 구현 예시  
1. 완전 이진 트리  
![힙1](https://user-images.githubusercontent.com/31130917/105985201-824ca780-60de-11eb-94c9-b6cb94d72951.PNG)  
  
2. 힙 생성 알고리즘을 이용하여 힙 구조로 만듬  
![힙2](https://user-images.githubusercontent.com/31130917/105985203-82e53e00-60de-11eb-8e2b-b8eee5812eac.PNG)  
  
3. 루트에 있는 값을 가장 뒤쪽으로 보내면서 힙 트리의 크기를 1씩 줄임  
![힙3](https://user-images.githubusercontent.com/31130917/105985205-837dd480-60de-11eb-88f1-625110c7f080.PNG)  
  
4. 2번, 3번 반복  
![힙4](https://user-images.githubusercontent.com/31130917/105985207-837dd480-60de-11eb-9410-a907f15b7a12.PNG)  
![힙5](https://user-images.githubusercontent.com/31130917/105985211-84166b00-60de-11eb-9180-98965da1ba43.PNG)  

## 4. 시간 복잡도  
힙 생성 알고리즘 시간 복잡도 -> O(logN)  
전체 데이터 개수 -> N개
### => 힙 정렬의 시간 복잡도는 O(N*logN)  
사실상 모든 데이터를 가지고 힙 생성 알고리즘을 쓰지 않아도 됨  
전체 데이터의 1/2만 써도 되기 때문에 1/2N * logN으로 표현할 수 있음  
이때 1/2N > logN이라고 하면 시간복잡도는 O(N)에 가까운 속도를 낼 수 있음  

## 5. 특징  
병합 정렬과 다르게 별도의 추가적인 배열이 필요하지 않음  
### 메모리 측면에서 몹시 효율적  
### 항상 O(N*logN)을 보장할 수 있음  
이론적으로 퀵, 병합 정렬보다 더 우위에 있음  
하지만 단순히 속도만 가지고 비교하면 퀵 정렬이 평균적으로 더 빠름  
* 상향식(Bottom-Up) : 들어오는 키 값 순서대로 트리를 구성한 후 힙 구조가 되도록 재조정하는 방식  
![상향식](https://user-images.githubusercontent.com/31130917/106019761-5c3afd80-6106-11eb-99d7-21951490e8c4.png)  
* 하향식(Top-Down) : 반복적으로 힙에 삽입 작업을 가하는 것  
![하향식](https://user-images.githubusercontent.com/31130917/106019768-5d6c2a80-6106-11eb-8d5b-59b2b23cd447.png)  
<출처 : https://slenderankle.tistory.com/158>